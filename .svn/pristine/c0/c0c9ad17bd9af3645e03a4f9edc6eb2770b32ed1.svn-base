{"version":3,"sources":["webpack:///src/components/newpage/usersmanager.vue","webpack:///./src/components/newpage/usersmanager.vue?f956","webpack:///./src/components/newpage/usersmanager.vue"],"names":["usersmanager","data","keyinput","tableData","ruleForm","usercode","username","adjust","download","rolecode","tempruleForm","rules","required","message","trigger","pattern","dialogFormVisible","options","value","label","offset","pageSize","selectdata","total","addoredit","mounted","this","Getdata","Getrole","methods","change","console","log","_this","Object","query","then","res","code","_this2","val","keyword","rows","handleSelectionChange","select","JSON","parse","stringify_default","delopen","_this3","del","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","i","push","id","err","return","currentpagechange","Adddata","_this4","join","Editdata","_this5","addopen","edit","row","length","split","querydata","submitForm","_this6","$refs","validate","valid","resetForm","formName","newpage_usersmanager","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","placeholder","model","callback","$$v","expression","on","click","staticStyle","width","border","selection-change","type","prop","size","show-overflow-tooltip","scopedSlots","_u","key","fn","scope","$event","current-page","page-size","layout","current-change","title","visible","update:visible","ref","label-width","$set","on-color","off-color","multiple","_l","item","index","slot","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/7.80c80d26e88c96e0cac3.js","sourcesContent":["<template>\n  <div class=\"usersmanagerbox\">\n     <div class=\"querybox\">\n      <div class=\"pagetitle\">\n        <span class=\"titletext\">查询条件</span>\n      </div>\n      <div class=\"inputbox\">\n        <el-input v-model=\"keyinput\" placeholder=\"请输入关键字查询\"></el-input>\n        <el-button class=\"querybtn\" @click=\"querydata\">查询</el-button>\n      </div>\n    </div>\n    <div class=\"tablebox\">\n      <div class=\"pagetitle\">\n        <span class=\"titletext\">查看/编辑用户信息</span>\n        <div class=\"btngroup\">\n          <el-button  @click=\"addopen\">新增</el-button>\n          <el-button  @click=\"delopen\"> 删除</el-button>\n        </div>\n      </div>\n      <div class=\"eletable\">\n        <el-table :data=\"tableData\"  style=\"width: 100%\" border @selection-change=\"handleSelectionChange\">\n          <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n          <el-table-column prop=\"usercode\" label=\"用户编码\" type=\"text\" size=\"small\" show-overflow-tooltip></el-table-column>\n          <el-table-column prop=\"username\" label=\"用户名称\" type=\"text\" size=\"small\" show-overflow-tooltip> </el-table-column>\n          <el-table-column prop=\"adjust\" label=\"调整\" width=\"80\"></el-table-column>\n          <el-table-column prop=\"download\" label=\"下载\" width=\"80\"> </el-table-column>\n          <el-table-column prop=\"rolecode\" label=\"角色\" show-overflow-tooltip></el-table-column>\n          <el-table-column label=\"操作\" width=\"80\">\n            <template slot-scope=\"scope\">\n              <el-button type=\"text\" size=\"small\" @click=\"edit(scope.row)\">修改</el-button>\n            </template>\n          </el-table-column>\n        </el-table>\n        <div class=\"paginationbox\">\n            <el-pagination @current-change=\"currentpagechange\" :total=\"total\" :current-page=\"offset\" :page-size=\"pageSize\" layout=\"total, prev, pager, next, jumper\">\n            </el-pagination>\n        </div>\n      </div>\n    </div>\n    <!-- 新增和修改的弹窗 -->\n    <el-dialog title=\"新增\" :visible.sync=\"dialogFormVisible\">\n      <el-form :model=\"ruleForm\" ref=\"ruleForm\" :rules=\"rules\" label-width=\"120px\" class=\"demo-ruleForm\">\n        <el-form-item label=\"用户编码\" prop=\"usercode\">\n          <el-input v-model=\"ruleForm.usercode\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户名称\" prop=\"username\">\n          <el-input v-model=\"ruleForm.username\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"调整权限\">\n          <el-switch v-model=\"ruleForm.adjust\" on-color=\"#13ce66\" off-color=\"#ff4949\"></el-switch>\n        </el-form-item>\n        <el-form-item label=\"下载权限\">\n          <el-switch v-model=\"ruleForm.download\" on-color=\"#13ce66\" off-color=\"#ff4949\"></el-switch>\n        </el-form-item>\n        <el-form-item label=\"角色编码\">\n          <el-select v-model=\"ruleForm.rolecode\" placeholder=\"请选择\" multiple  @change=\"change\">\n          <el-option v-for=\"(item, index) in options\" :key=\"index\" :label=\"item.value\" :value=\"item.key\"> </el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"resetForm('ruleForm')\">取 消</el-button>\n        <el-button @click=\"submitForm('ruleForm')\">确 定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n<style lang=\"scss\">\n.usersmanagerbox {\n  width: 100%;\n  height: 100%;\n  .querybox {\n    background-color: #fff;\n    .inputbox {\n      overflow: auto;\n      padding: 5px 10px;\n      .el-button:hover {\n        background-color: rgba(123, 126, 255, 0.9);\n        border: 1px solid rgba(123, 126, 255, 0.9);\n        color: #fff;\n      }\n    }\n    .el-input {\n      width: 200px;\n      float: left;\n      .el-input__inner:hover {\n        border-color: #6d71ef\n      }\n      .el-input__inner:focus {\n        border-color: #6d71ef\n      }\n    }\n    .el-input__inner {\n      border-radius: 0;\n      height: 27px;\n      font-size: 12px;\n    }\n    .querybtn {\n      padding: 6px 10px;\n      border-radius: 0;\n      font-size: 12px;\n      display: block;\n      float: left;\n      margin-left: 10px;\n    }\n  }\n  .tablebox {\n    background-color: #fff;\n    margin-top: 10px;\n    height: 100%;\n    .eletable {\n      padding: 5px;\n      .el-button--text {\n        color: rgba(123, 126, 255, 0.9);\n      }\n      .el-checkbox__inner::after {\n        top: 3px;\n        left: 6px;\n      }\n      .el-checkbox__input.is-indeterminate .el-checkbox__inner::before {\n        top: 7px;\n      }\n      .el-checkbox__input.is-checked .el-checkbox__inner, .el-checkbox__input.is-indeterminate .el-checkbox__inner {\n        background-color: #6d71ef;\n        border-color: #6d71ef;\n      }\n      .el-checkbox__inner:hover {\n        border-color: #6d71ef;\n      }\n      .el-pager li {\n        font-weight: normal;\n        border: 1px solid #d1dbe5;\n        border-left: none;\n        min-width: 28px;\n      }\n      .el-pagination button {\n        min-width: 28px;\n      }\n      .el-pager li:first-child {\n        border-left: 1px solid #d1dbe5;;\n      }\n      .el-pager li:last-child {\n        border-right: 1px solid #d1dbe5;\n      }\n      .el-pager li.active {\n        border-color: #20a0ff;\n        border-color: rgba(123, 126, 255, 0.9);\n        background-color: #20a0ff;\n        background-color: rgba(123, 126, 255, 0.9);\n        color: #fff;\n        cursor: default;\n      }\n      .el-pager li.active:hover {\n        color: #fff;\n      }\n      .el-pager li:hover {\n        color: rgba(123, 126, 255, 1);\n      }\n      .el-pagination .btn-next, .el-pagination .btn-prev {\n        border: 1px solid #d1dbe5;\n      }\n      .el-pagination .btn-next:hover .el-icon-arrow-right:before {\n        color: rgba(123, 126, 255, 0.9);\n      }\n      .el-pagination .btn-prev:hover .el-icon-arrow-left:before {\n        color: rgba(123, 126, 255, 0.9);\n      }\n      .el-pagination__editor.el-input .el-input__inner:focus {\n        border-color: rgba(123, 126, 255, 1);\n      }\n      .el-pagination .btn-next {\n        border-left: none;\n        border-radius: 0 2px 2px 0;\n        padding-left: 6px;\n      }\n      .el-pagination .btn-prev {\n        border-right: none;\n        border-radius: 2px 0 0 2px;\n        padding-right: 6px;\n      }\n      .el-pagination__editor.el-input {\n        width: 30px;\n      }\n      .el-checkbox__inner {\n        width: 18px;\n        height: 18px;\n      }\n      .el-table .cell {\n        padding-right: 15px;\n        padding-left: 15px;\n      }\n    }\n  }\n  .el-table td,\n  .el-table th {\n    height: 32px;\n    font-size: 12px;\n    padding: 0;\n  }\n  .pagetitle {\n    width: calc(100% - 10px);\n    border-bottom: 1px solid #ccc;\n    font-weight: bold;\n    height: 30px;\n    .titletext {\n      height: 20px;\n      display: inline-block;\n      position: absolute;\n      left: 0px;\n      padding: 4px 10px;\n      border-bottom: 3px solid blue;\n      letter-spacing: 2px;\n    }\n  }\n  .el-table th.gutter {\n    display: table-cell!important;\n  }\n  .btngroup {\n    float: right;\n    margin-right: 8px;\n    .el-button {\n      padding: 5px 10px;\n      margin-top: 4px;\n      font-size: 12px;\n      //border: 1px solid blue;\n      border: 1px solid rgba(123, 126, 255, 0.9);\n      border-radius: 0;\n      box-shadow: 0px 0px 1px #888888 inset;\n    }\n    .el-button:hover {\n      background-color: rgba(123, 126, 255, 0.9);\n      border: 1px solid rgba(123, 126, 255, 0.9);\n      color: #fff;\n    }\n  }\n  .el-dialog {\n    .el-form-item {\n      margin-bottom: 10px;\n        .el-input__inner {\n          height: 28px;\n      }\n      .el-form-item__label {\n        font-size: 12px;\n      }\n    }\n    .el-input__inner:hover,.el-form-item.is-success .el-input__inner, .el-form-item.is-success .el-input__inner:focus, .el-form-item.is-success .el-textarea__inner, .el-form-item.is-success .el-textarea__inner:focus {\n      border-color: #6d6fef ;\n    }\n    .dialog-footer {\n      .el-button {\n        padding: 5px 10px;\n        font-size: 12px;\n        border-radius: 0;\n        border: 1px solid #6d6fef;\n        color: #6d6fef;\n      }\n      .el-button:focus, .el-button:hover {\n        color: #fff;\n        border: 1px solid #6d6fef;\n        background: #6d6fef;\n      }\n    }\n    .el-dialog__header {\n      background-color: #6d71ef;\n      padding: 10px;\n      .el-dialog__title {\n        color: #fff;\n        font-weight: bold;\n      }\n      .el-dialog__headerbtn {\n        top: 8px;\n        right: 7px;\n        .el-icon-close:before {\n          font-size: 25px;\n          font-weight: bold;\n        }\n      }\n    }\n    .el-dialog__headerbtn .el-dialog__close {\n      color: #fff;\n    }\n    .el-dialog__body {\n      padding: 10px 10px;\n      overflow: auto;\n      .el-icon-close:before {\n        font-size: 12px;\n        font-weight: bold;\n      }\n    }\n    .el-form-item__error {\n      padding-top: 0;\n    }\n    .el-collapse-item__header {\n      height: 30px;\n      line-height: 30px;\n    }\n    .el-collapse-item__header__arrow {\n      display: none;\n    }\n    .el-collapse-item__content {\n      height: 200px;\n      padding: 0px;\n      overflow: auto;\n    }\n    .el-tree {\n      border: 0px;\n      background: none;\n      .el-tree-node__content {\n        height: 26px;\n        line-height: 26px;\n        .el-checkbox__inner {\n          border-radius: 0px;\n          width: 16px;\n          height: 16px;\n        }\n        .el-checkbox__input.is-checked .el-checkbox__inner {\n          background-color: #6d6fef;\n        }\n        .el-tree-node__label {\n          font-size: 12px;\n        }\n      }\n    }\n    .el-switch.is-checked .el-switch__core {\n      border-color: #6d6fef!important;\n      background-color: #6d6fef!important;\n    }\n    .el-switch__core {\n      border-color: #ccc!important;\n      background-color: #ccc!important;\n    }\n    .el-collapse-item__header {\n      padding-left: 0px;\n    }\n  }\n}\n</style>\n<script>\n  import {\n    listuser,\n    adduser,\n    edituser,\n    deluser,\n    getRolesz\n  } from '@/services/query';\n  export default {\n    data() {\n      return {\n        keyinput: '',\n        tableData: [],\n        ruleForm: {\n          usercode: '',\n          username: '',\n          adjust: '',\n          download: '',\n          rolecode: [],\n        },\n        tempruleForm: {\n          usercode: '',\n          username: '',\n          adjust: false,\n          download: false,\n          rolecode: [],\n        },\n        rules: {\n          usercode: [{\n            required: true,\n            message: '请输入用户编码',\n            trigger: 'blur'\n          }, {\n            message: '请输入字母下划线数字的组合',\n            trigger: 'blur,change',\n            pattern: /^[0-9a-zA-Z_]{1,}$/,\n          }],\n          username: [{\n            required: true,\n            message: '请输入用户名称',\n            trigger: 'blur'\n          }],\n        },\n        dialogFormVisible: false,\n          options: [{\n            value: '选项1',\n            label: '黄金糕'\n          }, {\n            value: '选项2',\n            label: '双皮奶'\n          }],\n        value: '',\n        offset: 0,\n        pageSize: 10,\n        selectdata: [],\n        total: 0,\n        addoredit: true,\n      }\n    },\n    mounted() {\n      this.Getdata();\n      this.Getrole();\n    },\n    methods: {\n      change() {\n        console.log('this.ruleForm-res', this.ruleForm.rolecode);\n      },\n      // 获取角色下拉/\n      Getrole() {\n        getRolesz().then((res) => {\n          console.log('获取角色下拉-res', res);\n          if (res.code === '0') {\n              this.options = res.data;\n          }\n        })\n      },\n      Getdata() {\n        let val = {\n          'keyword': this.keyinput,\n          'offset': this.offset,\n          'pageSize': this.pageSize\n        };\n        listuser(val).then((res) => {\n          console.log('res-role', res);\n          if (res.code === '0') {\n            this.tableData = res.data.rows;\n            this.total = res.data.total;\n          }\n        })\n      },\n      handleSelectionChange(select) {\n        this.selectdata = JSON.parse(JSON.stringify(select));\n      },\n      // 删除\n      delopen() {\n        let del = [];\n        for (let i of this.selectdata) {\n          del.push(i.id);\n        }\n        deluser(del).then((res) => {\n          if (res.code === '0') {\n            this.Getdata();\n          }\n        })\n      },\n      // 点击翻页\n      currentpagechange(val) {\n        this.offset = val;\n        this.Getdata();\n      },\n      // 新增数据\n      Adddata() {\n        let val = {\n          usercode: this.ruleForm.usercode,\n          username: this.ruleForm.username,\n          adjust: this.ruleForm.adjust,\n          download: this.ruleForm.download,\n          rolecode: this.ruleForm.rolecode.join(','),\n        };\n        console.log('this.ruleForm.adjust', this.ruleForm.adjust);\n        console.log('val', val);\n        adduser(val).then((res) => {\n          console.log('res-adduser', res);\n          if (res.code === '0') {\n            this.Getdata();\n          }\n        })\n      },\n      // 修改数据\n      Editdata() {\n        let val = JSON.parse(JSON.stringify(this.ruleForm));\n        val.rolecode = val.rolecode.join(',');\n        edituser(val).then((res) => {\n          if (res.code === '0') {\n            this.Getdata();\n          }\n        })\n      },\n      // 打开新增窗口\n      addopen() {\n        this.dialogFormVisible = true;\n        this.addoredit = true;\n        this.ruleForm = JSON.parse(JSON.stringify(this.tempruleForm));\n      },\n      // 打开修改窗口\n      edit(row) {\n        this.addoredit = false;\n        this.dialogFormVisible = true;\n        this.ruleForm = JSON.parse(JSON.stringify(this.tempruleForm));\n        for (let i in row) {\n          if (row[i] === 'true') {\n            this.ruleForm[i] = true;\n          } else if (row[i] === 'false') {\n            this.ruleForm[i] = false;\n          } else {\n            this.ruleForm[i] = row[i];\n          }\n        }\n        if (this.ruleForm.rolecode === '' || this.ruleForm.rolecode === undefined || this.ruleForm.rolecode.length === 0) {\n          this.ruleForm.rolecode = [];\n        } else {\n          this.ruleForm.rolecode = this.ruleForm.rolecode.split(',')\n        }\n      },\n      // 请求数据\n      querydata() {\n        this.Getdata();\n      },\n      submitForm(ruleForm) {\n          this.$refs[ruleForm].validate((valid) => {\n              if (valid) {\n                    this.dialogFormVisible = false;\n                  if (this.addoredit) {\n                      this.Adddata();\n                  } else {\n                      this.Editdata();\n                  }\n              } else {\n                  return false;\n              }\n          });\n      },\n      resetForm(formName) {\n        // this.$refs[formName].resetFields();\n        this.dialogFormVisible = false;\n      }\n    }\n  }\n</script>\n\n\n\n// WEBPACK FOOTER //\n// src/components/newpage/usersmanager.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"usersmanagerbox\"},[_c('div',{staticClass:\"querybox\"},[_vm._m(0),_vm._v(\" \"),_c('div',{staticClass:\"inputbox\"},[_c('el-input',{attrs:{\"placeholder\":\"请输入关键字查询\"},model:{value:(_vm.keyinput),callback:function ($$v) {_vm.keyinput=$$v},expression:\"keyinput\"}}),_vm._v(\" \"),_c('el-button',{staticClass:\"querybtn\",on:{\"click\":_vm.querydata}},[_vm._v(\"查询\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"tablebox\"},[_c('div',{staticClass:\"pagetitle\"},[_c('span',{staticClass:\"titletext\"},[_vm._v(\"查看/编辑用户信息\")]),_vm._v(\" \"),_c('div',{staticClass:\"btngroup\"},[_c('el-button',{on:{\"click\":_vm.addopen}},[_vm._v(\"新增\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.delopen}},[_vm._v(\" 删除\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"eletable\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"border\":\"\"},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"usercode\",\"label\":\"用户编码\",\"type\":\"text\",\"size\":\"small\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"username\",\"label\":\"用户名称\",\"type\":\"text\",\"size\":\"small\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"adjust\",\"label\":\"调整\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"download\",\"label\":\"下载\",\"width\":\"80\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"rolecode\",\"label\":\"角色\",\"show-overflow-tooltip\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"80\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){_vm.edit(scope.row)}}},[_vm._v(\"修改\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"paginationbox\"},[_c('el-pagination',{attrs:{\"total\":_vm.total,\"current-page\":_vm.offset,\"page-size\":_vm.pageSize,\"layout\":\"total, prev, pager, next, jumper\"},on:{\"current-change\":_vm.currentpagechange}})],1)],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增\",\"visible\":_vm.dialogFormVisible},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('el-form',{ref:\"ruleForm\",staticClass:\"demo-ruleForm\",attrs:{\"model\":_vm.ruleForm,\"rules\":_vm.rules,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户编码\",\"prop\":\"usercode\"}},[_c('el-input',{model:{value:(_vm.ruleForm.usercode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"usercode\", $$v)},expression:\"ruleForm.usercode\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"用户名称\",\"prop\":\"username\"}},[_c('el-input',{model:{value:(_vm.ruleForm.username),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"username\", $$v)},expression:\"ruleForm.username\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"调整权限\"}},[_c('el-switch',{attrs:{\"on-color\":\"#13ce66\",\"off-color\":\"#ff4949\"},model:{value:(_vm.ruleForm.adjust),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"adjust\", $$v)},expression:\"ruleForm.adjust\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"下载权限\"}},[_c('el-switch',{attrs:{\"on-color\":\"#13ce66\",\"off-color\":\"#ff4949\"},model:{value:(_vm.ruleForm.download),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"download\", $$v)},expression:\"ruleForm.download\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"角色编码\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\",\"multiple\":\"\"},on:{\"change\":_vm.change},model:{value:(_vm.ruleForm.rolecode),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"rolecode\", $$v)},expression:\"ruleForm.rolecode\"}},_vm._l((_vm.options),function(item,index){return _c('el-option',{key:index,attrs:{\"label\":item.value,\"value\":item.key}})}))],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.resetForm('ruleForm')}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{on:{\"click\":function($event){_vm.submitForm('ruleForm')}}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pagetitle\"},[_c('span',{staticClass:\"titletext\"},[_vm._v(\"查询条件\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-45939659\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/newpage/usersmanager.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-45939659\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./usersmanager.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./usersmanager.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./usersmanager.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-45939659\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./usersmanager.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/newpage/usersmanager.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}